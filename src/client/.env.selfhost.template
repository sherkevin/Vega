# Environment variables for the client in selfhost mode.
# This file is loaded at runtime by the client container.

# Set the environment to self-host mode
NEXT_PUBLIC_ENVIRONMENT=selfhost

# The URL for the backend server, accessible from the user's browser.
NEXT_PUBLIC_APP_SERVER_URL=http://localhost:5000

# The internal URL for the backend server, used for server-to-server communication inside Docker.
# This is passed at build time and used by the Next.js server part of the client.
# It MUST match INTERNAL_APP_SERVER_URL in the root src/.env file.
INTERNAL_APP_SERVER_URL=http://server:80

# The public-facing base URL of the client application.
# These MUST match the corresponding variables in the root src/.env file.
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_BASE_URL=http://localhost:3000

# The static token for authenticating with the backend.
# This MUST match the `SELF_HOST_AUTH_TOKEN` in the root src/.env file.
SELF_HOST_AUTH_TOKEN=<use_the_same_strong_secret_as_in_src/.env>

# --- Database (for Server Actions) ---
# This is the internal URI for the MongoDB service within Docker.
# It MUST include the credentials defined in the root .env file.
MONGO_URI=mongodb://sentient:<pass_from_src/.env>@mongodb:27017/
MONGO_DB_NAME=sentient_selfhost_db

# Auth0 variables are not used in selfhost mode, but are kept here
# to avoid breaking any code that might reference them before a check.
# The build process requires them to be present in some form.
AUTH0_SECRET=""
AUTH0_ISSUER_BASE_URL=""
AUTH0_CLIENT_ID=""
AUTH0_CLIENT_SECRET=""
AUTH0_AUDIENCE=""
AUTH0_SCOPE=""

# --- Analytics (Optional) ---
# If you want to enable product analytics, provide your PostHog project key.
NEXT_PUBLIC_POSTHOG_KEY=
# If using a self-hosted PostHog instance, provide the host URL. Otherwise, leave it empty to default to PostHog's US cloud.
NEXT_PUBLIC_POSTHOG_HOST= # e.g. https://us.i.posthog.com

# --- PWA Push Notifications (Optional) ---
# Generate VAPID keys using `npx web-push generate-vapid-keys` and add the public key here.
# The private key is also needed here for Next.js Server Actions.
NEXT_PUBLIC_VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_ADMIN_EMAIL=mailto:your-email@example.com
