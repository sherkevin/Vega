# Environment variables for the server in selfhost mode.
# This file is loaded at runtime by the server container.
ENVIRONMENT=selfhost

# --- Self-Host Authentication ---
# This MUST match the `SELF_HOST_AUTH_TOKEN` in the root `src/.env` file.
SELF_HOST_AUTH_SECRET=<use_the_same_strong_secret_as_in_src/.env>

# --- Auth0 Dummy Configuration (Permissions are still derived from this scope) ---
AUTH0_SCOPE="openid profile email offline_access read:chat write:chat read:profile write:profile manage:google_auth read:memory write:memory read:tasks write:tasks read:notifications write:notifications read:config write:config admin:user_metadata"
AUTH0_NAMESPACE="https://existence.sentient/auth0" # Must match client .env
# Other Auth0 variables are not used in selfhost mode.

# --- Database (points to the Docker service) ---
# These variables are substituted by docker-compose from the root src/.env file.
MONGO_URI=mongodb://${MONGO_USER}:${MONGO_PASS}@mongodb:27017/
MONGO_DB_NAME=sentient_selfhost_db

# --- PostgreSQL Database (for Memory MCP) ---
# These variables are substituted by docker-compose from the root src/.env file.
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=${POSTGRES_USER}
POSTGRES_PASSWORD=${POSTGRES_PASS}
POSTGRES_DB=${POSTGRES_DB}
# --- Task Queue (Celery, points to the Docker service) ---
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0

# --- Vector DB (Chroma, points to the Docker service) ---
CHROMA_HOST=chroma
CHROMA_PORT=8000

# --- LLM Provider Configuration ---
# Standard OpenAI API compatible endpoint configuration.
# For local Ollama (default), use: http://localhost:11434/v1
# To use Gemini via the LiteLLM proxy, change this to: http://litellm:4000
OPENAI_API_BASE_URL=http://localhost:11434/v1
OPENAI_MODEL_NAME=qwen3:4b # This should match the model in the server's Modelfile
OPENAI_API_KEY=ollama
# For Gemini embeddings, used by the Memory MCP. Key is inherited from the root .env file.
GEMINI_API_KEY=${GEMINI_API_KEY}
EMBEDDING_MODEL_NAME=models/text-embedding-004

# --- Voice Provider Configuration (Optional) ---
# See documentation for details on setting up voice providers.
STT_PROVIDER=DEEPGRAM       # Can be FASTER_WHISPER, ELEVENLABS, or DEEPGRAM
TTS_PROVIDER=ELEVENLABS    # Can be ORPHEUS, ELEVENLABS, or SMALLEST_AI
DEEPGRAM_API_KEY=<your_deepgram_api_key_if_using_their_service>
ELEVENLABS_API_KEY=<your_elevenlabs_api_key_if_using_their_service>
SMALLEST_AI_API_KEY=<your_smallest_ai_api_key>
FASTER_WHISPER_MODEL_SIZE=base # Options: tiny, base, small, medium, large
FASTER_WHISPER_DEVICE=cuda # Options: cpu, cuda
FASTER_WHISPER_COMPUTE_TYPE=float16 # Options: int8, float16, float32
ORPHEUS_MODEL_PATH="src/server/main/voice/models/orpheus-3b-0.1-ft-q4_k_m.gguf"
HF_TOKEN=<your_huggingface_token> # Required for Cloudflare TURN credentials in production

# --- File Management ---
# Directory for temporary file uploads and agent scratchpads.
FILE_MANAGEMENT_TEMP_DIR=sentient_files
# How often to check for old files to delete (in seconds). Default: 3600 (1 hour).
FILE_CLEANUP_INTERVAL_SECONDS=3600
# How old a file must be to be deleted (in seconds). Default: 86400 (24 hours).
FILE_MAX_AGE_SECONDS=86400

# --- 3rd Party API Keys (Optional but recommended for full functionality) ---
# See documentation for links and instructions on how to get these keys.
POSTHOG_KEY=
POSTHOG_HOST=
NEWS_API_KEY=
GOOGLE_CLIENT_ID=
GOOGLE_PROJECT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_API_KEY=
GOOGLE_CSE_ID=
UNSPLASH_ACCESS_KEY=
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
NOTION_CLIENT_ID=
NOTION_CLIENT_SECRET=
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
TRELLO_CLIENT_ID=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
ACCUWEATHER_API_KEY=

# --- Composio Configuration (Optional) ---
# See documentation for instructions on setting up Composio.
COMPOSIO_API_KEY=
# These are the UUIDs for your MCP servers created in the Composio dashboard.
GMAIL_AUTH_CONFIG_ID=
GDRIVE_AUTH_CONFIG_ID=
GCALENDAR_AUTH_CONFIG_ID=
GDOCS_AUTH_CONFIG_ID=
GTASKS_AUTH_CONFIG_ID=
GSHEETS_AUTH_CONFIG_ID=

# --- Encryption ---
# Generate two long, random hexadecimal strings for these values.
# Example: openssl rand -hex 32
AES_SECRET_KEY=<generate_a_64_char_hex_string>
AES_IV=<generate_a_32_char_hex_string>

# --- WhatsApp API (WAHA) - Points to the internal Docker service ---
# These settings should not be changed.
WAHA_URL=http://waha:3000
WHATSAPP_DEFAULT_ENGINE=GOWS
WAHA_API_KEY=admin

# --- MCP Hub Internal URLs (for services running inside the container via supervisord) ---
GMAIL_MCP_SERVER_URL=http://localhost:9001/sse/
GCAL_MCP_SERVER_URL=http://localhost:9002/sse/
GDRIVE_MCP_SERVER_URL=http://localhost:9003/sse/
GDOCS_MCP_SERVER_URL=http://localhost:9004/sse/
GOOGLE_SEARCH_MCP_SERVER_URL=http://localhost:9005/sse/
SLACK_MCP_SERVER_URL=http://localhost:9006/sse/
ACCUWEATHER_MCP_SERVER_URL=http://localhost:9007/sse/
QUICKCHART_MCP_SERVER_URL=http://localhost:9008/sse/
NOTION_MCP_SERVER_URL=http://localhost:9009/sse/
GITHUB_MCP_SERVER_URL=http://localhost:9010/sse/
NEWS_MCP_SERVER_URL=http://localhost:9012/sse/
GSLIDES_MCP_SERVER_URL=http://localhost:9014/sse/
GSHEETS_MCP_SERVER_URL=http://localhost:9015/sse/
GMAPS_MCP_SERVER_URL=http://localhost:9016/sse/
GTASKS_MCP_SERVER_URL=http://localhost:9028/sse/
TASKS_MCP_SERVER_URL=http://localhost:9018/sse/
GPEOPLE_MCP_SERVER_URL=http://localhost:9019/sse/
HISTORY_MCP_SERVER_URL=http://localhost:9020/sse/
TRELLO_MCP_SERVER_URL=http://localhost:9025/sse/
MEMORY_MCP_SERVER_URL=http://localhost:8001/sse/
DISCORD_MCP_SERVER_URL=http://localhost:9022/sse/
WHATSAPP_MCP_SERVER_URL=http://localhost:9024/sse/ # This is correct
FILE_MANAGEMENT_MCP_SERVER_URL=http://localhost:9026/sse/
ORCHESTRATOR_MCP_SERVER_URL=http://localhost:9027/sse/

