# Root environment variables for docker-compose.selfhost.yaml
# Copy this file to .env in the same directory (src/.env) and fill in the values.

# --- Public URLs ---
# These are the URLs that users will use in their browser to access the application.
# For a standard local setup, these defaults are correct.
# If you expose this on the internet, change localhost to your domain.
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_SERVER_URL=http://localhost:5000

# --- Internal Docker URLs ---
# These are for container-to-container communication and should not be changed.
INTERNAL_APP_SERVER_URL=http://server:80
INTERNAL_CLIENT_URL=http://client:3000

# --- Authentication ---
# Sets the application to run in self-hosted mode. Do not change.
NEXT_PUBLIC_ENVIRONMENT=selfhost
# A long, random, secret string that acts as your master password for the app.
# It must be the same in all three .env files where it appears.
# Generate a strong secret here (e.g., using a password manager or `openssl rand -hex 32`).
SELF_HOST_AUTH_TOKEN=<generate_a_strong_secret_here>

# --- Server (Backend) Build-Time Variables ---
# [BUILD-TIME] Set OPENAI_API_KEY to "ollama" to install Ollama in the server container.
# This allows you to run a local LLM without needing an external API key for chat.
# To use a remote service (like OpenAI or another provider via LiteLLM), provide your key here.
OPENAI_API_KEY=ollama
# [BUILD-TIME] The model to pull if Ollama is being installed. This should match the model
# in the server's Modelfile and the OPENAI_MODEL_NAME in server/.env.selfhost.
OPENAI_MODEL_NAME=qwen3:4b

# --- Gemini API Key (for Server - Memory & optional LiteLLM) ---
# [RUNTIME] Required for memory embeddings and can be used for chat via the LiteLLM proxy.
# Get this from Google AI Studio.
GEMINI_API_KEY=<your-gemini-api-key>

# --- MongoDB Credentials (for Server) ---
MONGO_USER=sentient
MONGO_PASS=<generate_a_strong_password_for_mongo>

# --- PostgreSQL Credentials (for Server - Memory MCP) ---
POSTGRES_USER=sentient
POSTGRES_PASS=<generate_a_strong_password_for_postgres>
POSTGRES_DB=sentient_memory_db

# --- Redis Password (for Server - Celery) ---
REDIS_PASSWORD=<generate_a_strong_password_for_redis>

# --- WhatsApp (WAHA) Credentials (for WAHA Service) ---
# These are used by the WAHA container for WhatsApp integration.
# You can leave these as default for a local setup.
WAHA_API_KEY=admin
WAHA_DASHBOARD_USERNAME=admin
WAHA_DASHBOARD_PASSWORD=admin